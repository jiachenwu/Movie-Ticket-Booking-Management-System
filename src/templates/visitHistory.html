{% extends "index.html" %}
{% block title %} View History {% endblock %}


{% block table %}
<form method="get">
    <div class="form-group">
        <label for="company_name">Company Name</label>
        <select class="custom-select d-block w-100" id="company">
            {%for company in companies %}
            <option value="{{company[0]}}">{{company[0]}}</option>
            {%endfor%}
        </select>
    </div>
    <div class="form-group">
        <label class="control-label">
            Visit Date - From
        </label>
        <input type="date" name="from_date" class="form-control" placeholder="From" autofocus>
    </div>
    <div class="form-group">
        <label class="control-label">
            Visit Date - To
        </label>
        <input type="date" name="to_date" class="form-control" placeholder="To" autofocus>
    </div>
    <button type="submit" class="btn btn-primary">Filter</button>
</form>
<hr>
<div class="table-responsive">
    <table class="table table-striped table-sm" id="visitHistory">
  <thead>
    <tr>
      <th>Theater</th>
      <th>Address</th>
      <th>Company</th>
      <th>View Date</th>
    </tr>
  </thead>
  <tbody>
    {%for row in result %}
    <tr>
      <td>{{row[0]}}</td>
      <td>{{row[1]}}</td>
      <td>{{row[2]}}</td>
      <td>{{row[3]}}</td>
    </tr>
    {%endfor%}
  </tbody>
</table>
</div>
<script>
    $(document).ready( function () {
    $('#visitHistory').DataTable({searching: false,});
} );
</script>
{% endblock %}